\chapter{Background \& Objectives}

\section{Background}

A number of key considerations were taken into place during the background planning stages of this project.

An initial meeting took place in February 2020 with the customer, the Montgomeryshire Wildlife Trust. The hardware implementation was discussed and it was understood that the customer would want to run the web application on an 86-inch touch screen monitor. They also expressed a preference for the web application to be run locally, and not published to a cloud service or the World Wide Web. Therefore, an important consideration of the project was enabling the web application to work using touch gestures, and use a responsive layout that would scale to a high resolution.

With the intention being that the application runs locally, therefore research had to be put into various technology stacks, and which web framework would work best for this kind of application. Research into this would have to take into account how much time needs to be allocated to performing spike work; ensuring a comprehensive understanding of the framework was achieved before work on the project began.

Another key consideration was the vendor for the maps API. A number of APIs were assessed for their usability as well as their licensing conditions.

In this section, the early investigative work into the project will be discussed, with an analysis of the steps taken to achieve a conclusion as to which technology stack to use. 

\subsection{Web Development Frameworks and Tools}

Early on in the project it was decided that the use of a comprehensive web framework would be beneficial to the usability and production quality of the web application. This was opposed to a simple HTML 5, CSS, and JavaScript stack. Whilst it was inevitable that portions of each language had to be used, a more robust framework provided specific advantages, such as a package manager and cleaner code.

Three primary web frameworks were assessed, through the use of research, prior reading, and spike work, these being the following:

\begin{itemize}
\item	A JavaScript-based framework, utilising the Node.js and Express backend frameworks and either Vue.js or React as the frontend.
\item	Django, a Python-based model-template-view framework.
\item	The Spring Framework, a Java-based model-view-controller framework.
\end{itemize}

Further research took place into the CSS frameworks, as well as an appropriate database management system. Discussion into these are expanded upon in their relevant sections.

\subsubsection{JavaScript Frameworks}

A full-stack JavaScript framework allowed for the benefit of the software being written in one programming language, which could reduce issues with the code's readability and maintenance. It would have also allowed for a single testing framework, such as Jest, a testing framework maintained by Facebook.
% Citation: https://link.springer.com/chapter/10.1007/978-1-4842-1260-8_9,https://jestjs.io/ 
The use of a runtime environment would be standard fare for a JavaScript framework, allowing sever-side scripting and dynamic web pages to be run outside of the usual web browser environment that JavaScript runs on. A popular JavaScript runtime is Node.js, which has been touted as a resource-efficient framework, a benefit for a project that is designed to run on a local computer.
% Citation: https://link.springer.com/article/10.1007/s00607-014-0394-9


Frontend frameworks were also looked at, with varying levels of spike work being put into them. React, a Facebook-maintained JavaScript library, and Vue.js, were both considered. The two frameworks are rather similar, such that they rely on sending data directly to the browser's Document Object Model, however Vue.js takes a declarative approach to HTML scripting, whilst React uses JSX, an HTML syntax extension to JavaScript.
% Citation: https://vuejs.org/v2/guide/comparison.html 


Ultimately, a lack of familiarity with JavaScript, as well as the relative complexities of the frameworks, proved to be a deciding factor in not going ahead with a JavaScript-driven application. During research, it was deemed that a large amount of time would have to be dedicated to following tutorials and learning JavaScript, and ECMAScript 6, from scratch, and this would have taken too much time and risked a less complete final product.

\subsubsection{Django}

Django is an open-source framework based on the Python programming language. Its creators set the framework's primary philosophies as a quick approach to development, a view to not repeating the design and execution of concepts, and loose coupling - in this context being that the framework layers shouldn't be able to interface with eachother unless necessary.
% Citation: https://docs.djangoproject.com/en/3.0/misc/design-philosophies/

Django utilises the object-oriented programming paradigm with Python, and utilises a model-template-view approach. In short, these are three distinct layers of a web application: the model consists of a data structure, the view consists of a representation of information on a web browser, and a controller allows access to this data with meaningful requests.
% Citation: https://ieeexplore.ieee.org/abstract/document/950428

Whilst Django appeared to be a good choice due to its highly cohesive pattern, testing of the setup proved to be difficult on occasion, with design patterns that were particularly unique to Django. Whilst Python is a language that is known to utilise concepts that are simple to understand for users with greater knowledge in other programming languages, utilisation of Python at this level required a higher level of expertise than was had at the time. It was decided that there would be a greater chance of success with the project if attention was placed more towards frameworks with a more familiar language, to avoid an inordinate amount of time being spent on the intricacies of specific programming languages and frameworks.
 
\subsubsection{Spring Framework}

The Spring Framework is an open-source framework, where its web application features are based upon Java Enterprise Edition, an enterprise specification of the Java programming language that has modules specifically tailored towards web services.
% Citation: https://www.oracle.com/java/technologies/java-ee-glance.html

Spring provides many of the benefits that Django also provides, and the two are often compared against eachother. Similar to Django, Spring utilises a model-view-controller framework, and relies upon high cohesion. As Spring uses Java, it takes advantage of the object-oriented programming paradigm, and it is standard for classes to be written in such a way that they follow this concept. Spring is optimised to work with the Thymeleaf template engine, that provides server-side scripting and an interface between the controller and view layers.
% Citation: https://www.thymeleaf.org/

Ultimately, a proficiency in Java from previous academic study and personal use made Spring an ideal choice for this project. Spring Boot, an addition to the platform that allows for automatic configuration of core dependencies, was also used, to reduce the amount of time spent studying elements of Spring that Spring Boot renders redundant. Spring also utilises Maven, a Java package manager, to provide a large number of dependencies; Spring Security was deemed a useful tool for an authentication layer, for example. An added benefit to Spring is its embedded Apache Tomcat server, that allows for the provision of an HTTP web server environment from opening the application, rather than having to take steps to deploy it into an existing web server environment.

\subsubsection{CSS frameworks}

It was decided in the planning stages of the project that it would be beneficial to use a CSS framework, rather than build a template with 'vanilla' implementations of HTML and CSS. CSS frameworks provide a large number of pre-built elements, many that are rather familiar to users, due to their prevalence in front-end web design. A review into three different CSS frameworks were performed.

Bootstrap, a framework initially developed for use with Twitter, provides elements that have been crafted with the User Experience at their forefront. It is used by a large variety of web applications and websites, with the developers claiming it is 'the world's most popular front-end component libary.' Whilst this would have been a good choice for a familiar user interface, the framework was assessed to have less customisability, which posed an issue with a unique implementation where the main aspect is a single-page application. Bootstrap is also intended to be mobile-first, a feature that is not required, as the application is designed to run on a desktop computer.
%Citation: http://51.255.68.3:8011/143.95.72.211/error404/twitter_bootstrap_web_development_how-to.pdf
%Citation: https://getbootstrap.com/

Fomantic UI, a community fork of Semantic UI, which had seen a lull in development, is a framework that defines itself as using 'human-friendly HTML.' Classes within Fomantic use syntax from the English language, for example, a user interface with three buttons could be classed simply as \texttt{<div class="ui three buttons">}. While Semantic is quite an elegant interface, different frameworks were deemed more familiar to a user, and the User Experience aspect of this project was tailored towards people who may not have a great amount of technical knowledge.
% Citation: https://semantic-ui.com/

The chosen CSS framework for the application was Materialize, a variation upon Google's Material Design language. Material Design is used in a large number of Android mobile phone applications, and on Google's services themselves. Similar to Fomantic, Materialize utilised the concept of human-friendly HTML, and was easy to integrate with Thymeleaf and Spring. Materialize utilises a twelve-column responsive grid system, which made it simple to create components that would scale with screen size. As the customer intends to run the application on a large monitor, this is an important design consideration.
% Citation: https://materializecss.com/

\subsubsection{Database Management System}

A database management system was a key component of this project. Points of Interest had to be persistent, and, in later iterations, a database for users had to be created. Whilst an in-memory database management system, H2, was used during the early stages of the project, it was quickly settled upon that a server independent from the application should be created. The investigation into this settled on either using PostgreSQL, an SQL-compliant system written in C, or MongoDB, a NoSQL document-oriented database that takes a JSON-like approach to storage of data.

It was decided upon to utilise PostgreSQL. Whilst there were various arguments for using MongoDB - a more readable schema, for example, studies have shown that PostgreSQL is generally faster in response times, and it is a popular implementation of SQL that sees good compatibility with Spring. A solid amount of background experience with PostgreSQL also contributed to the decision; whilst MongoDB has been described by its developers as similar to an object-oriented paradigm, the performance benefits of PostgreSQL negated any benefits of learning a new system.
% Citation: https://www.mongodb.com/
% Citation: https://www.researchgate.net/profile/Antonios_Makris3/publication/331522759_Performance_Evaluation_of_MongoDB_and_PostgreSQL_for_spatio-temporal_data/links/5c7e387b299bf1268d3954b6/Performance-Evaluation-of-MongoDB-and-PostgreSQL-for-spatio-temporal-data.pdf


\subsubsection{Programming Tools}

After the technology stack was decided, a decision had to be made as to the best programming tools for the task at hand. The Spring Framework has widespread support within IDEs. An extension, called Spring Tools 4, had been created by the developers, which provided Spring-related functionality to Eclipse, Microsoft Visual Studio Tools, and Eclipse Theia. A large number of PostgreSQL clients existed, with some examples being pgAdmin 4 and HeidiSQL. PostgreSQL could also be administrated via a command-line interface.
% Citation: https://spring.io/tools, https://wiki.postgresql.org/wiki/PostgreSQL_Clients

However, it was decided upon that the JetBrains' suite of software was to be used for development. JetBrains provides a free license to people with a University e-mail address, and its IntelliJ IDEA Java IDE has in-built support for Spring Boot projects, and also includes plugins for web development. DataGrip, a database IDE, was also used, as this allowed for a graphical representation of the database that resulted in the schema being easier to quickly understand. Various browsers, including Microsoft Edge, Google Chrome, and Mozilla Firefox, were used in order to test the web application on varying browsers. Mozilla's Firefox Browser Developer Edition was useful when debugging the web app, as it included useful tools pertinent to CSS and JavaScript debugging.
% Citation: https://www.jetbrains.com/community/education/#students
% Citation: https://www.mozilla.org/en-GB/firefox/developer/

\subsection{Mapping API}

A crucial part of the application was the ability to present geographic data and information in a graphical format. A video had been provided by the customer, showing a map implementation on a similar nature reserve in Dorset. This used a satellite map with markers placed on the screen, and the intention was to take a similar approach.
% Citation: https://www.youtube.com/watch?v=XYIwcAfgFkA

As this application is web-based, a view towards a JavaScript API was adopted when assessing potential mapping solutions. The map must also take clickable markers and allow for quick downloading of satellite images. Two potential candidates were assessed:

\begin{itemize}
\item	\textbf{OpenStreetMap} - A free and open-source map that allowed for users to request changes to be made, which has the potential to provide a more up-to-date map based on changes in geography. OpenStreetMap does not have an inbuilt satellite implementation or an API, however various free and paid sources are available and were assessed during this stage of the project.
\item	\textbf{Google Maps Platform} - Google provides a JavaScript API with a wide array of features attached to it, that uses data and imagery from Google Maps, hosted on Google's infrastructure. A potential hurdle in using Google Maps Platform, however, was its use of API keys and its pricing structure, an issue that is further discussed below.
\end{itemize}

\subsubsection{OpenStreetMap}

OpenStreetMap is defined as a community-driven repository of map data, that can be contributed towards in a 'wiki-like' manner. It did not, however, appear to provide a JavaScript API, but many implementations of OpenStreetMap have been realised in JavaScript, with Leaflet being one of them.
% Citation: https://leafletjs.com
% Citation: https://www.openstreetmap.org/about

OpenStreetMap did not appear to host aerial imagery, and freeware JavaScript APIs only appear to have implemented a standard map interface. It was considered that this is not what the customer had wanted, and, whilst Mapbox, a closed-source implementation of OpenStreetMap with aerial imagery and a free tier, was briefly assessed, a lack of customisability and the low-quality resolution of the aerial imagery were deciding factors in not going ahead with this approach.
% Citation: https://www.mapbox.com/maps/

\subsubsection{Google Maps Platform}

Google Maps Platform is one of the features offered with Google Cloud; a suite of cloud-based applications and APIs hosted centrally by Google. Google Maps is a popular mapping interface, and regular input from various countries' national mapping agencies allows it to be reasonably up-to-date. Google Maps Platform's main offering for non-mobile applications is the Maps JavaScript API, and a thorough amount of documentation has been provided for this.
% Citation: https://cloud.google.com/maps-platform
% Citation: https://developers.google.com/maps/documentation/javascript/

Ultimately, a decision was made as to go ahead with using Google Maps Platform. The platform's high-resolution aerial imagery was key to this decision, along with the general reliability and uptime of Google's Cloud infrastructure. Unlike OpenStreetMap, the platform was not free, however includes a free tier that permits for up to USD \$200 of free usage a month. After reviewing their pricing scheme it was decided that this would be enough for a locally-hosted application; the geo-coding API was not being used and a levy of USD \$2 is placed on every one thousand static map requests, meaning that one hundred thousand requests a month would have to be made to exceed the free tier, which is not likely.
% Citation: https://cloud.google.com/maps-platform/pricing

\subsection{Version Control}

An effective Version Control System was imperative for the successful completion of the project. The use of branches, and rollback features, were key to ensuring that each part of the project was clearly indicated. An external version control host, GitHub, was used, which uses the Git version control system. This was mainly due to personal experience with both Git and GitHub, the added features that GitHub offers, and the benefit of an externally-hosted backup location, should data loss occur at any point on a local development machine.

\section{Software Development Process}

An important part of the planning for development of this software centred around having a meaningful development process, so as to ensure that the project remained on track and all deliverables could be met. A number of different approaches to software development were researched, including the Waterfall model, a linear, sequential approach that focuses on a series of categories and tasks towards the completed product. It was, however, decided to take an agile approach to software development. An agile approach would allow for changes and improvements to be made to the product as the development process continued and ensure there was more freedom attributed to the implementation of the product.

\subsection{Agile Development}

An important aspect into choosing an agile methodology was the ability to easily adapt it to a one-person project. Most agile methodologies are tailored towards small team projects, and many of the principles behind the Agile Manifesto - conveying information to and within a development team through face-to-face conversation, for example - are rendered irrelevant. Ultimately, I decided upon an adapted version of the core tenets of eXtreme Programming for the brunt of the development process, which I have detailed below. I also decided upon the use of Kanban as a workflow management tool. A few tools for this were assessed, including Trello and Jira, however, as the project was being hosted on the GitHub , GitHub Projects was instead used. 

\subsubsection{Adapted XP principles}

A number of studies focused on adapting XP and Agile for one person were consulted when deciding upon its implementation. Implementing a fully-compliant XP approach would have been difficult. It is a complicated framework, and requires multiple roles. Instead, a relaxed version of XP, that loosely followed the twelve core practices, was adopted.
% Citation: https://www.researchgate.net/publication/220996614_Extreme_programming_for_a_single_person_team
% Citation: A. Nystrom, "Agile Solo: Defining and Evaluating an Agile Software Development Process for a Single Software Developer", Masters' thesis, Chalmers University of Technology, 2011

\begin{enumerate}
\item \textbf{The Planning Game} - This was adapted from the initial meeting of a customer, where a series of notes on the type of features the customer wants in the product was compiled. Planning took an approach of user epics and stories, the epics being:
	\begin{itemize}
		\item	As a volunteer, I want to have a web interface where I can show people information about the nature reserve on a map.
		\item	As an administrator, I want to be able to add and edit information about the nature reserve, and change anything that I want to change.
	\end{itemize}
	
The system metaphor became \textit{'A web application that uses a map to show interesting things around the Dyfi Wildlife Centre'}. Appendix A of this report provides the copy of the document used to design user stories, define the technology stack, and prioritise each user story.
\item	\textbf{Small Releases} - An iterative approach was taken to the development of this project. Releases, each including more features than the last, were tied into the tasks created in the planning game.
\item	\textbf{Metaphors} - This practice was realised through the aforementioned system metaphor and user stories.
\item	\textbf{Simple Design} - Attention was placed on the design of the application not becoming too complex, with this being assessed in every release.
\item	\textbf{Testing} - As will be discussed later in this chapter, test-driven development was used throughout the project. This often involved verification of an interface before its implementation.
\item	\textbf{Refactoring} - It was ensured this was the last task, after all tests passed, so as to provide as clean, readable and efficient code as possible.
\item	\textbf{Pair Programming} - For obvious reasons, it was not possible to replicate this practice. However, a benefit of pair programming is being able to have a 'birds' eye' view of the code, and find bugs early. This was achieved through use of the Pomodoro Technique, a time management technique similar to timeboxing, where work is broken down into 25-minute intervals. After three intervals, all code that had been written was tested and reviewed, to see if there were any bugs. %Citation: http://success.gatech.edu/sites/default/files/images/pomodory_study_technique_fullpage_0.pdf
\item	\textbf{Collective Code Ownership} - As the project had a single developer there was no need to find an adaptation to this, as the entire codebase is owned by the developer.
\item	\textbf{Continuous Integration} - Use of the Travis CI tool was prevalent throughout the project. Whilst conflicts between different branches were not likely, it ensured that testing was being carried out repeatedly, and did not have to be performed manually.
%Citation: https://travis-ci.org/
\item	\textbf{40-Hour Week} - It was ensured that too much work over one period did not occur, as this may have caused more buggy code due to stress and fatigue.
\item	\textbf{On-site customer} - This wasn't possible with this project, particularly during the second half. Therefore, any communication with the customer tended to be carried out via e-mail and telephone.
\item	\textbf{Coding standard} - A coding standard was self-imposed, and kept consistent throughout each iteration of the project.
\end{enumerate}
\subsection{Test-driven development}

While researching testing strategies, it was decided that the concept of test-driven development should be incorporated into this project. The main benefit of such an approach was the ability to create a detailed specification for the code, and ensure that thought took place into what was really required from it. It also ensured that feedback was quick, a useful tool in a single-person project where you are not easily able to request constant feedback from your code. Errors and problems become identified more quickly. Overall, this was to be implemented through the use of Java interfaces, with an outline of a class written and tests to achieve what was wanted from each class. Testing suites were created for each class which required them, and the use of technologies such as Selenium was crucial to testing the front-end.

